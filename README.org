#+title: dired-posframe
#+author: conao3

[[https://github.com/conao3/dired-posframe.el][https://raw.githubusercontent.com/conao3/files/master/blob/headers/png/dired-posframe.el.png]]

[[https://github.com/conao3/dired-posframe.el/blob/master/LICENSE][https://img.shields.io/github/license/conao3/dired-posframe.el.svg?style=flat-square]]
[[https://github.com/conao3/dired-posframe.el/releases][https://img.shields.io/github/tag/conao3/dired-posframe.el.svg?style=flat-square]]
[[https://github.com/conao3/dired-posframe.el/actions][https://github.com/conao3/dired-posframe.el/workflows/Main%20workflow/badge.svg]]

Preview files in dired using posframe.

* Overview

[[https://github.com/conao3/dired-posframe.el][https://raw.githubusercontent.com/conao3/files/master/blob/dired-posframe.el/dired-posframe.gif]]

*dired-posframe* provides a quick file preview in dired buffers, inspired by [[https://github.com/asok/peep-dired][peep-dired]]. It displays file contents in a floating frame ([[https://github.com/tumashu/posframe][posframe]]) as you navigate through your directory listing.

** Features

- Preview files and directories without leaving dired
- Image preview support
- Configurable frame position, size, and appearance
- Automatic mode detection for syntax highlighting

[[https://raw.githubusercontent.com/conao3/files/master/blob/dired-posframe.el/dired-posframe-image.png][https://raw.githubusercontent.com/conao3/files/master/blob/dired-posframe.el/dired-posframe-image.png]]

* Requirements

- Emacs 26.1 or later
- [[https://github.com/tumashu/posframe][posframe]] 0.7 or later

* Installation

** From MELPA

#+begin_src emacs-lisp
(use-package dired-posframe
  :ensure t
  :hook (dired-mode . dired-posframe-mode))
#+end_src

** Manual Trigger

If you prefer to trigger the preview manually rather than automatically:

#+begin_src emacs-lisp
(use-package dired-posframe
  :ensure t
  :bind (:map dired-mode-map
              ("C-*" . dired-posframe-show)))
#+end_src

Press =C-g= to dismiss the preview.

* Usage

Enable =dired-posframe-mode= in any dired buffer. The preview will automatically appear as you move between files.

* Customization

** Variables

| Variable                              | Default            | Description                                       |
|---------------------------------------+--------------------+---------------------------------------------------|
| =dired-posframe-file-size-limit=      | 1048576 (1MB)      | Maximum file size to preview (in bytes)           |
| =dired-posframe-enable-modes=         | =(image-mode)=     | Major modes to enable in the preview buffer       |
| =dired-posframe-style=                | =point=            | Positioning style for the frame                   |
| =dired-posframe-font=                 | =nil=              | Font for the preview (nil uses current frame)     |
| =dired-posframe-width=                | =80=               | Frame width in characters                         |
| =dired-posframe-height=               | =40=               | Frame height in lines                             |
| =dired-posframe-min-width=            | =80=               | Minimum frame width                               |
| =dired-posframe-min-height=           | =nil=              | Minimum frame height                              |
| =dired-posframe-border-width=         | =1=                | Border width in pixels                            |
| =dired-posframe-parameters=           | =nil=              | Additional frame parameters                       |
| =dired-posframe-use-post-command-hook= | =t=               | Enable auto-show/hide on focus changes            |

** Faces

- =dired-posframe= - Main face for the preview frame
- =dired-posframe-border= - Face for the frame border

* Contributing

Contributions are welcome. Please feel free to submit issues and pull requests.

** Development Setup

1. Clone the repository
2. Install [[https://github.com/conao3/keg][keg]] for development tooling:
   #+begin_src shell
   git clone https://github.com/conao3/keg ~/.keg
   export PATH="$HOME/.keg/bin:$PATH"
   #+end_src

** Testing

#+begin_src shell
make test
#+end_src

* License

GPL-3.0. See [[https://github.com/conao3/dired-posframe.el/blob/master/LICENSE][LICENSE]] for details.

* Author

Naoya Yamashita ([[https://github.com/conao3][conao3]])
